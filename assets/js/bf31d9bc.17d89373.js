"use strict";(globalThis.webpackChunkgsf_docusaurus_template=globalThis.webpackChunkgsf_docusaurus_template||[]).push([[6679],{6936(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"catalog/cloud/scale-down-kubernetes-workloads","title":"Scale down kubernetes applications when not in use","description":"In order to reduce carbon emissions and costs, Dev&Test Kubernetes clusters can turn off nodes out of office hours. Thereby, optimization is implemented at the cluster level. For production clusters, where nodes need to stay up and running, optimization needs to be implemented at the application level.","source":"@site/docs/catalog/cloud/scale-down-kubernetes-workloads.md","sourceDirName":"catalog/cloud","slug":"/catalog/cloud/scale-down-kubernetes-workloads","permalink":"/catalog/cloud/scale-down-kubernetes-workloads","draft":false,"unlisted":false,"editUrl":"https://github.com/Green-Software-Foundation/patterns/edit/main/docs/catalog/cloud/scale-down-kubernetes-workloads.md","tags":[{"inline":true,"label":"kubernetes","permalink":"/tags/kubernetes"},{"inline":true,"label":"role:cloud-engineer","permalink":"/tags/role-cloud-engineer"},{"inline":true,"label":"size:small","permalink":"/tags/size-small"}],"version":"current","frontMatter":{"version":1,"submitted_by":"yelghali","published_date":"2022-11-10T00:00:00.000Z","category":"cloud","description":"In order to reduce carbon emissions and costs, Dev&Test Kubernetes clusters can turn off nodes out of office hours. Thereby, optimization is implemented at the cluster level. For production clusters, where nodes need to stay up and running, optimization needs to be implemented at the application level.","tags":["kubernetes","role:cloud-engineer","size:small"]}}');var o=t(4848),i=t(8453);const r={version:1,submitted_by:"yelghali",published_date:new Date("2022-11-10T00:00:00.000Z"),category:"cloud",description:"In order to reduce carbon emissions and costs, Dev&Test Kubernetes clusters can turn off nodes out of office hours. Thereby, optimization is implemented at the cluster level. For production clusters, where nodes need to stay up and running, optimization needs to be implemented at the application level.",tags:["kubernetes","role:cloud-engineer","size:small"]},a="Scale down kubernetes applications when not in use",l={},c=[{value:"Description",id:"description",level:2},{value:"Solution",id:"solution",level:2},{value:"SCI Impact",id:"sci-impact",level:2},{value:"Assumptions",id:"assumptions",level:2},{value:"Considerations",id:"considerations",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"scale-down-kubernetes-applications-when-not-in-use",children:"Scale down kubernetes applications when not in use"})}),"\n",(0,o.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,o.jsx)(n.p,{children:"In order to reduce carbon emissions and costs, Dev&Test Kubernetes clusters can turn off nodes (VMs) out of office hours (e.g at night & during weekends). => thereby, optimization is implemented at the cluster level."}),"\n",(0,o.jsx)(n.p,{children:"For production clusters, where nodes need to stay up and running: optimization needs to be implemented at the application level (Deployment, StatefulSet)."}),"\n",(0,o.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,o.jsx)(n.p,{children:"Scale down Kubernetes applications (Deployments, StatefulSets) based on time (out of office hours). Turning off an application means scaling its pods to zero."}),"\n",(0,o.jsx)(n.p,{children:"The scaled down Kubernetes resources can be selected using Labels or Annotations."}),"\n",(0,o.jsx)(n.h2,{id:"sci-impact",children:"SCI Impact"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"SCI = (E * I) + M per R"}),"\n",(0,o.jsx)(n.a,{href:"https://grnsft.org/sci",children:"Software Carbon Intensity Spec"})]}),"\n",(0,o.jsx)(n.p,{children:"Regarding the SCI equation. scaling down the pods to zero will impact:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"E"}),': The goal is to "reduce demand", aka the number of pods running out of office hours, which reduces overall consumed power by the application.']}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"assumptions",children:"Assumptions"}),"\n",(0,o.jsx)(n.p,{children:"The Business Application has predictible traffic (usage), which allows to scale up & down based on Time."}),"\n",(0,o.jsx)(n.h2,{id:"considerations",children:"Considerations"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"This pattern does not require application code changes."}),"\n",(0,o.jsx)(n.li,{children:"This pattern requires an understanding of the application usage patterns including technical governance and inventory management."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const o={},i=s.createContext(o);function r(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);